{
  "version": 3,
  "sources": ["../../../node_modules/vitepress-plugin-comment-with-giscus/lib/giscus.js"],
  "sourcesContent": ["import giscus from '@giscus/vue';\nimport { createApp, h, nextTick, onMounted, watch } from 'vue';\n/**\n * add comment container\n * <br>添加评论容器\n * @param props giscus setting (配置)\n * @param frontmatter frontmatter (前言)\n * @param defaultEnable default enable comment area (默认启用评论区)\n */\nconst setGiscus = (props, frontmatter, defaultEnable = true) => {\n    const defaultProps = {\n        id: 'comment',\n        host: 'https://giscus.app',\n        category: 'General',\n        mapping: 'pathname',\n        term: 'Welcome to giscus!',\n        reactionsEnabled: '1',\n        inputPosition: 'top',\n        lang: 'zh-CN',\n        loading: 'lazy',\n        repo: 'xxx/xxx',\n        repoId: '',\n        homePageShowComment: false\n    };\n    // console.log('locales --> ', props.locales);\n    // Set the default language\n    // 设置默认语言\n    if (props.locales) {\n        const element = document.querySelector('html');\n        const lang = element.getAttribute('lang');\n        // console.log('lang --> ', lang);\n        if (lang && props.locales[lang]) {\n            props.lang = props.locales[lang];\n        }\n    }\n    const lightTheme = props.lightTheme || 'light';\n    const darkTheme = props.darkTheme || 'transparent_dark';\n    // Delete the original comment container\n    // 删除原有评论容器\n    let oldCommentContainer = document.getElementById('giscus');\n    if (oldCommentContainer) {\n        oldCommentContainer.parentNode.removeChild(oldCommentContainer);\n    }\n    if (frontmatter?.value.comment !== undefined) {\n        // If comment is false, comments are not loaded\n        // 如果 comment 为 false，则不加载评论\n        if (!Boolean(frontmatter?.value.comment)) {\n            return;\n        }\n    }\n    else {\n        if (!defaultEnable) {\n            return;\n        }\n    }\n    // Whether to display comments on the homepage\n    // 首页是否显示评论\n    if (!props.homePageShowComment && (!location.pathname || location.pathname === '/')) {\n        return;\n    }\n    const isDark = document.querySelector('html')?.className.indexOf('dark') !== -1;\n    // Get the parent container and create a comment container\n    // 获取父容器，并创建评论容器\n    const docContent = document.getElementsByClassName('content-container')[0];\n    if (docContent) {\n        const bindGiscus = document.createElement('div');\n        // Set the attribute and style of the comment container\n        // 设置评论容器的属性及样式\n        bindGiscus.setAttribute('id', 'giscus');\n        bindGiscus.style.height = 'auto';\n        bindGiscus.style.marginTop = '40px';\n        bindGiscus.style.borderTop = '1px solid var(--vp-c-divider)';\n        bindGiscus.style.paddingTop = '20px';\n        // Add comment container\n        // 添加评论容器\n        docContent.append(bindGiscus);\n        // Use vue to dynamically create comment components and bind them to the corresponding elements\n        // 使用vue动态创建评论组件并绑定到相应元素上\n        createApp({\n            render: () => {\n                return h(giscus, { ...defaultProps, theme: isDark ? darkTheme : lightTheme, ...props });\n            }\n        }).mount('#giscus');\n    }\n};\n/**\n * Listen to the page theme and change the theme of the comment container\n * <br>监听页面主题，更改评论容器的主题\n */\nconst setThemeWatch = (props) => {\n    const element = document.querySelector('html');\n    const lightTheme = props.lightTheme || 'light';\n    const darkTheme = props.darkTheme || 'transparent_dark';\n    const observer = new MutationObserver(mutations => {\n        mutations.forEach(mutation => {\n            if (mutation.type == 'attributes') {\n                let comment = document.getElementById('comment');\n                comment?.setAttribute('theme', element.className.indexOf('dark') !== -1 ? darkTheme : lightTheme);\n            }\n        });\n    });\n    observer.observe(element, {\n        attributeFilter: ['class']\n    });\n};\n/**\n * initialize comment area\n * <br>初始化评论区\n * @param props giscus setting (giscus 配置)\n * @param vitepressObj frontmatter & routing (前言 & 路由)\n * @param defaultEnable default enable comment area (默认启用评论区)\n */\nconst giscusTalk = (props, vitepressObj, defaultEnable = true) => {\n    onMounted(() => {\n        setGiscus(props, vitepressObj.frontmatter, defaultEnable);\n        setThemeWatch(props);\n    });\n    watch(() => vitepressObj.route.path, () => nextTick(() => {\n        setGiscus(props, vitepressObj.frontmatter, defaultEnable);\n    }));\n};\nexport default giscusTalk;\n"],
  "mappings": ";;;;;;;;;;;;;AASA,IAAM,YAAY,CAAC,OAAO,aAAa,gBAAgB,SAAS;AAThE;AAUI,QAAM,eAAe;AAAA,IACjB,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,UAAU;AAAA,IACV,SAAS;AAAA,IACT,MAAM;AAAA,IACN,kBAAkB;AAAA,IAClB,eAAe;AAAA,IACf,MAAM;AAAA,IACN,SAAS;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,qBAAqB;AAAA,EACzB;AAIA,MAAI,MAAM,SAAS;AACf,UAAM,UAAU,SAAS,cAAc,MAAM;AAC7C,UAAM,OAAO,QAAQ,aAAa,MAAM;AAExC,QAAI,QAAQ,MAAM,QAAQ,IAAI,GAAG;AAC7B,YAAM,OAAO,MAAM,QAAQ,IAAI;AAAA,IACnC;AAAA,EACJ;AACA,QAAM,aAAa,MAAM,cAAc;AACvC,QAAM,YAAY,MAAM,aAAa;AAGrC,MAAI,sBAAsB,SAAS,eAAe,QAAQ;AAC1D,MAAI,qBAAqB;AACrB,wBAAoB,WAAW,YAAY,mBAAmB;AAAA,EAClE;AACA,OAAI,2CAAa,MAAM,aAAY,QAAW;AAG1C,QAAI,CAAC,QAAQ,2CAAa,MAAM,OAAO,GAAG;AACtC;AAAA,IACJ;AAAA,EACJ,OACK;AACD,QAAI,CAAC,eAAe;AAChB;AAAA,IACJ;AAAA,EACJ;AAGA,MAAI,CAAC,MAAM,wBAAwB,CAAC,SAAS,YAAY,SAAS,aAAa,MAAM;AACjF;AAAA,EACJ;AACA,QAAM,WAAS,cAAS,cAAc,MAAM,MAA7B,mBAAgC,UAAU,QAAQ,aAAY;AAG7E,QAAM,aAAa,SAAS,uBAAuB,mBAAmB,EAAE,CAAC;AACzE,MAAI,YAAY;AACZ,UAAM,aAAa,SAAS,cAAc,KAAK;AAG/C,eAAW,aAAa,MAAM,QAAQ;AACtC,eAAW,MAAM,SAAS;AAC1B,eAAW,MAAM,YAAY;AAC7B,eAAW,MAAM,YAAY;AAC7B,eAAW,MAAM,aAAa;AAG9B,eAAW,OAAO,UAAU;AAG5B,cAAU;AAAA,MACN,QAAQ,MAAM;AACV,eAAO,EAAE,GAAQ,EAAE,GAAG,cAAc,OAAO,SAAS,YAAY,YAAY,GAAG,MAAM,CAAC;AAAA,MAC1F;AAAA,IACJ,CAAC,EAAE,MAAM,SAAS;AAAA,EACtB;AACJ;AAKA,IAAM,gBAAgB,CAAC,UAAU;AAC7B,QAAM,UAAU,SAAS,cAAc,MAAM;AAC7C,QAAM,aAAa,MAAM,cAAc;AACvC,QAAM,YAAY,MAAM,aAAa;AACrC,QAAM,WAAW,IAAI,iBAAiB,eAAa;AAC/C,cAAU,QAAQ,cAAY;AAC1B,UAAI,SAAS,QAAQ,cAAc;AAC/B,YAAI,UAAU,SAAS,eAAe,SAAS;AAC/C,2CAAS,aAAa,SAAS,QAAQ,UAAU,QAAQ,MAAM,MAAM,KAAK,YAAY;AAAA,MAC1F;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AACD,WAAS,QAAQ,SAAS;AAAA,IACtB,iBAAiB,CAAC,OAAO;AAAA,EAC7B,CAAC;AACL;AAQA,IAAM,aAAa,CAAC,OAAO,cAAc,gBAAgB,SAAS;AAC9D,YAAU,MAAM;AACZ,cAAU,OAAO,aAAa,aAAa,aAAa;AACxD,kBAAc,KAAK;AAAA,EACvB,CAAC;AACD,QAAM,MAAM,aAAa,MAAM,MAAM,MAAM,SAAS,MAAM;AACtD,cAAU,OAAO,aAAa,aAAa,aAAa;AAAA,EAC5D,CAAC,CAAC;AACN;AACA,IAAO,iBAAQ;",
  "names": []
}
